<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chronik – Der Dritte Entwurf</title>
  <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/166/166539.png">
  <link href="https://fonts.googleapis.com/css2?family=Cardo&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="src/book-style.css">
<style>
/* Optional swipe effect between pages */
html.swipe-left {
  animation: swipeLeft 0.4s forwards;
}
html.swipe-right {
  animation: swipeRight 0.4s forwards;
}
@keyframes swipeLeft {
  0% { transform: translateX(0); opacity: 1; }
  100% { transform: translateX(-100%); opacity: 0; }
}
@keyframes swipeRight {
  0% { transform: translateX(0); opacity: 1; }
  100% { transform: translateX(100%); opacity: 0; }
}
</style>
<style>
html.swipe-out {
  animation: smoothSwipeOut 0.8s ease-in forwards;
  background-color: #000 !important;
}
@keyframes smoothSwipeOut {
  0% { opacity: 1; transform: translateX(0); }
  100% { opacity: 0; transform: translateX(-30px); }
}
</style>
</head>
<body>
<nav>
  <a href="chronik.html">📖 Chronik</a>
  <a href="nscs.html" class="swipe-link" > class="swipe-link">🧙‍♂️ NSC-Verzeichnis</a>
</nav>

  <div id="chronikApp">
    <div id="bookContainer" class="book-container">
      <div id="toc-toggle" onclick="toggleTOC()">📖</div>
      <div id="bookPages"></div>
      <div id="toc"></div>
      <div class="book-nav">
        <button onclick="prevPage()">⬅️</button>
        <span id="pageIndicator"></span>
        <button onclick="nextPage()">➡️</button>
      </div>
    </div>

    <div class="container">
      <button onclick="toggleEntryForm()" style="margin-bottom: 1rem;">🖋️ Neue Seite schreiben</button>
      <div id="entryForm" style="display: none;">
        <textarea id="noteInput" placeholder="Notiz eingeben..."></textarea>
        <textarea id="flowInput" placeholder="Optionaler Fließtext..."></textarea>
        <button onclick="addEntry()">📜 Eintrag speichern</button>
      </div>
    </div>
  </div>

  <script src="src/main.js"></script>
  <script>
    function toggleEntryForm() {
      const form = document.getElementById('entryForm');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
    window.onload = () => {
      if (window.loadEntries) loadEntries();
    };
  </script>
<script>
const links = document.querySelectorAll('a[href*="nscs.html"]');
links.forEach(link => {
  link.addEventListener('click', () => {
    document.documentElement.classList.add('swipe-left');
  });
});
</script>
<script>
function triggerSwipe() {
  document.documentElement.classList.add('swipe-out');
  setTimeout(() => {
    window.location.href = 'nscs.html';
  }, 800);
}
</script>

<script>
document.querySelectorAll('a.swipe-link').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    document.documentElement.classList.add('swipe-out');
    setTimeout(() => {
      window.location.href = link.href;
    }, 800);
  });
});
</script>
</body>
</html>